<html>

<head>
    <title>CleverTap Test</title>
    <style>
        .magicButton {
            padding: 8px 12px;
            text-align: center;
            text-decoration: none;
            display: inline-block;
            font-size: 16px;
            margin: 20px 2px;
            transition-duration: 0.4s;
            cursor: pointer;
            background-color: white;
            color: #dc2626;
            border: 2px solid #dc2626;
        }

        .magicButton:hover {
            background-color: #dc2626;
            color: white;
        }
    </style>

    <script type="text/javascript">
        var clevertap = { event: [], profile: [], account: [], onUserLogin: [], region: 'eu1', notifications: [], privacy: [] };
        // replace with the CLEVERTAP_ACCOUNT_ID with the actual ACCOUNT ID value from your Dashboard -> Settings page
        clevertap.account.push({ "id": "4RR-R77-866Z" });
        clevertap.privacy.push({ optOut: false }); //set the flag to true, if the user of the device opts out of sharing their data
        clevertap.privacy.push({ useIP: true }); //set the flag to true, if the user agrees to share their IP data
        clevertap.spa = true;
        (function () {
            var wzrk = document.createElement('script');
            wzrk.type = 'text/javascript';
            wzrk.async = true;
            wzrk.src = ('https:' == document.location.protocol ? 'https://d2r1yp2w7bby2u.cloudfront.net' : 'http://static.clevertap.com') + '/js/clevertap.min.js';
            var s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(wzrk, s);
        })();
    </script>



    <script>
        window.addEventListener('load', () => {
            clevertap.notifications.push({
                "titleText": 'Would you like to receive Push Notifications?',
                "bodyText": 'We promise to only send you relevant content and give you updates on your transactions',
                "okButtonText": 'Sign me up!',
                "rejectButtonText": 'No thanks',
                "okButtonColor": '#f28046',
                "skipDialog": false,
                "serviceWorkerPath": "/clevertap_sw.js"
            });
        });
    </script>

    <script>
        function onLoginClick() {
            var name = document.getElementById('username').value;
            var email = document.getElementById('email').value;
            var phone = document.getElementById('phone').value;
            if (name != '' && email != '' && phone != '') {
                clevertap.onUserLogin.push({
                    "Site": {
                        "Name": name,
                        "Email": email,
                        "Phone": phone,
                        "Gender": "M",
                    }
                });
                alert('User Login : ' + name);
            } else {
                clevertap.onUserLogin.push({
                    "Site": {
                        "Name": "Akshay Bhange",
                        "Email": "akshay.bhange@clevertap.com",
                        "Phone": "+919876543210",
                        "Gender": "M",
                    }
                });
                alert('Default User Login');
            }
        }
        function triggerEvent() {
            var event = document.getElementById('event').value;
            if (event == '') {
                clevertap.event.push("Product Viewed", {
                    "Product ID": 1,
                    "Product Image": "https://d35fo82fjcw0y8.cloudfront.net/2018/07/26020307/customer-success-clevertap.jpg",
                    "Product Name": 'CleverTap',
                });
                console.log('Event Triggered : Product Viewed');
            } else {
                clevertap.event.push(event);
                console.log('Event Triggered : ' + event);
            }
        }
    </script>
    <script language="JavaScript" type="text/javascript" src="/js/jquery-1.2.6.min.js"></script>

</head>

<body>
    <center>
        <img src="https://i.ytimg.com/vi/hMeD22KR6V8/maxresdefault.jpg" width="270" height="150">

        <form onsubmit="onLoginClick()">
            <label for="username">Enter name:</label><br>
            <input type="text" name="username" id="username" />
            <br><br>
            <label for="username">Enter Email:</label><br>
            <input type="text" name="email" id="email" />
            <br><br>
            <label for="username">Enter Phone:</label><br>
            <input type="text" name="phone" id="phone" /><br>
            <input type="submit" class="magicButton" value="Login with above data" />
        </form>
        <form onsubmit="triggerEvent()">
            <label for="event">Enter event Name:</label>
            <input type="text" name="event" id="event" />
            <input type="submit" class="magicButton" />
        </form>
        <!-- <button type="button" id="magicButton" class="magicButton" onclick="onMagicButtonClick()">Magic Button</button> -->
    </center>


</body>


</html>
